<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø¹Ø§Ø¦Ù„Ø© LOLA. Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ Ù„ØªØ¬Ø±Ø¨Ø© ØªØ³ÙˆÙ‚ Ù…Ù…ÙŠØ²Ø© ÙˆØ§Ø³ØªÙ…ØªØ¹ Ø¨Ù…Ø²Ø§ÙŠØ§ Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©.">
  <title>LOLA | Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø§Ù„ÙØ±ÙŠÙ‚</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #fff;
      color: #000;
      line-height: 1.8;
    }

    /* ===== Ø§Ù„Ù‡ÙŠØ¯Ø± ===== */
    .top-bar {
      display: flex;
      flex-direction: column;
      background: #fff;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
      padding: 10px 20px;
    }

    .header-main {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 0;
    }

    .logo {
      font-size: 28px;
      font-weight: bold;
      color: black;
      letter-spacing: 2px;
    }

    .nav-actions {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    #search-box {
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      transition: .3s;
      outline: none;
    }

    #search-box:focus {
      border-color: #000;
    }

    .cart-icon,
    .wishlist-icon {
      position: relative;
      cursor: pointer;
      font-size: 20px;
      transition: transform 0.2s ease;
    }

    .cart-icon:hover,
    .wishlist-icon:hover {
      transform: scale(1.2);
      color: #f0c040;
    }

    .cart-count {
      background: var(--accent-color);
    }

    .wishlist-count {
      background: #3498db;
    }

    .cart-count,
    .wishlist-count {
      position: absolute;
      top: -5px;
      right: -6px;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
    }

    .cart-icon.has-items .cart-count,
    .wishlist-icon.has-items .wishlist-count {
      display: flex;
      animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.2);
      }

      100% {
        transform: scale(1);
      }
    }

    #loginBtn {
      padding: 6px 14px;
      border: 1px solid black;
      border-radius: 20px;
      background: white;
      cursor: pointer;
      transition: 0.3s;
      font-size: 14px;
      text-decoration: none;
      color: black;
    }

    #loginBtn:hover {
      background: black;
      color: white;
    }

    #userIcon {
      display: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: #f0f0f0;
      color: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      text-decoration: none;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
      transition: transform 0.2s;
    }

    #userIcon:hover {
      transform: scale(1.1);
      background-color: #ddd;
      color: black;
    }

    /* ===== Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ===== */
    .container {
      max-width: 600px;
      margin: 50px auto;
      background: #fff;
      padding: 40px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      text-align: right;
    }

    .container h2 {
      text-align: center;
      margin-bottom: 20px;
      font-size: 28px;
      color: #000;
    }

    .intro {
      text-align: center;
      margin-bottom: 30px;
      font-size: 16px;
      color: #666;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }

    .form-group input {
      width: 100%;
      padding: 12px;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 16px;
      box-sizing: border-box;
    }

    .form-group input:focus {
      border-color: #000;
      outline: none;
    }

    button {
      width: 100%;
      background-color: black;
      color: white;
      padding: 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 18px;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: #333;
    }

    .link {
      text-align: center;
      margin-top: 20px;
    }

    .link a {
      color: black;
      text-decoration: none;
      font-weight: bold;
    }

    .link a:hover {
      text-decoration: underline;
    }

    /* ===== Ø§Ù„ÙÙˆØªØ± ===== */
    .footer {
      background: #000;
      color: #fff;
      text-align: center;
      padding: 15px;
      margin-top: 50px;
    }

    .footer a {
      color: #fff;
      text-decoration: none;
      margin: 0 10px;
      transition: color 0.3s;
    }

    .footer a:hover {
      color: #f0c040;
    }
  </style>
</head>
<body>

<!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
<div class="top-bar">
  <a href="index.html" class="logo">LOLA</a>
  <div class="nav-actions">
    <input type="text" id="search-box" placeholder="Ø¨Ø­Ø«...">
    <div class="cart-icon" onclick="window.location.href='cart.html'">
      ğŸ›’<span class="cart-count" id="cart-count">0</span>
    </div>
    <div class="wishlist-icon" onclick="window.location.href='favorites.html'">
      â™¡<span class="wishlist-count" id="wishlist-count">0</span>
    </div>
    <a href="javascript:void(0)" id="loginBtn" onclick="doLogin()">ØªØ³Ø¬ÙŠÙ„ / Ø¯Ø®ÙˆÙ„</a>
    <a href="javascript:void(0)" id="userIcon" onclick="logout()" style="display:none;">ğŸ‘¤</a>
  </div>
</div>

<!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
<div class="container">
  <h2>Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ ÙØ±ÙŠÙ‚ LOLA</h2>
  <p class="intro">Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ ÙØ±ÙŠÙ‚Ù†Ø§ Ø§Ù„Ø¢Ù† ÙˆÙƒÙ† Ø¬Ø²Ø¡Ø§Ù‹ Ù…Ù† Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ ÙˆØ§Ù„Ø§Ø¨ØªÙƒØ§Ø±!</p>
  <form id="joinForm">
    <div class="form-group">
      <label for="name">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
      <input type="text" id="name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„" required>
    </div>
    <div class="form-group">
      <label for="email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
      <input type="email" id="email" placeholder="Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
    </div>
    <div class="form-group">
      <label for="phone">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
      <input type="tel" id="phone" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ" required>
    </div>
    <div class="form-group">
      <label for="password">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
      <input type="password" id="password" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ© (6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)" required>
    </div>
    <div class="form-group">
      <label for="confirmPassword">ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
      <input type="password" id="confirmPassword" placeholder="Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
    </div>
    <button type="submit">Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø§Ù„ÙØ±ÙŠÙ‚</button>
  </form>
  <div class="link">
    Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ <a href="login.html">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
  </div>
</div>

<!-- Ø§Ù„ÙÙˆØªØ± -->
<div class="footer">
  &copy; 2025 xcode. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©. |
  <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a> |
  <a href="about.html">Ù…Ù† Ù†Ø­Ù†</a> |
  <a href="contact.html">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a> |
  <a href="privacy.html">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a> |
  <a href="Terms of Use.html">Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…</a>
</div>

<script>
// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyCEY3tkYgxiRRpcOLdx8gRP0uwkaD1sIJQ",
  authDomain: "lola-6ab46.firebaseapp.com",
  projectId: "lola-6ab46",
  storageBucket: "lola-6ab46.appspot.com",
  messagingSenderId: "166549966504",
  appId: "1:166549966504:web:4f52282d3fa4a9f0eabc9d"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

  // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù†Ø§ØµØ± ÙÙŠ Ø§Ù„Ù‡ÙŠØ¯Ø±
  function updateHeaderCounts() {
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];

    const cartCount = document.getElementById('cart-count');
    const wishlistCount = document.getElementById('wishlist-count');

    if (cartCount) {
      cartCount.innerText = cart.length;
      cartCount.style.display = cart.length > 0 ? 'inline-block' : 'none';
    }
    if (wishlistCount) {
      wishlistCount.innerText = wishlist.length;
      wishlistCount.style.display = wishlist.length > 0 ? 'inline-block' : 'none';
    }
  }

  // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„Ø¯Ø§Ù„Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
  updateHeaderCounts();

  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
  const user = localStorage.getItem('loggedInUser');
  const loginBtn = document.getElementById('loginBtn');
  const userIcon = document.getElementById('userIcon');
  if (user) {
    loginBtn.style.display = 'none';
    userIcon.style.display = 'flex';
  } else {
    loginBtn.style.display = 'inline-block';
    userIcon.style.display = 'none';
  }

  // Ø¯ÙˆØ§Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ§Ù„Ø®Ø±ÙˆØ¬
  window.doLogin = function() {
    window.location.href = 'login.html';
  };

  window.logout = function() {
    localStorage.removeItem('loggedInUser');
    localStorage.removeItem('loggedIn');
    localStorage.removeItem('isLoggedIn');
    localStorage.removeItem('userName');
    localStorage.removeItem('userEmail');
    localStorage.removeItem('userPhone');
    localStorage.removeItem('loginMethod');
    window.location.href = 'index.html';
  };

  // Ù…Ø¹Ø§Ù„Ø¬Ø© Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…
  document.getElementById('joinForm').addEventListener('submit', async function(e) {
    e.preventDefault();

    const name = document.getElementById('name').value.trim();
    const email = document.getElementById('email').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const password = document.getElementById('password').value;
    const confirmPassword = document.getElementById('confirmPassword').value;

    if (!name || !email || !phone || !password || !confirmPassword) {
      alert('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
      return;
    }

    if (password !== confirmPassword) {
      alert('ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©');
      return;
    }

    if (password.length < 6) {
      alert('ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ 6 Ø£Ø­Ø±Ù');
      return;
    }

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
      alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­');
      return;
    }

    try {
      const userCredential = await auth.createUserWithEmailAndPassword(email, password);
      const user = userCredential.user;

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø§Ø³Ù… ÙÙŠ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
      await user.updateProfile({
        displayName: name
      });

      // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ localStorage
      localStorage.setItem('userName', name);
      localStorage.setItem('userEmail', email);
      localStorage.setItem('userPhone', phone);
      localStorage.setItem('loggedInUser', email);
      localStorage.setItem('isLoggedIn', 'true');
      localStorage.setItem('loginMethod', 'email');

      alert('ØªÙ… Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ø¨Ù†Ø¬Ø§Ø­! Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¹Ø§Ø¦Ù„Ø© LOLA');
      window.location.href = 'index.html';
    } catch (error) {
      console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„:', error);
      if (error.code === 'auth/email-already-in-use') {
        alert('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙØ¹Ù„');
      } else if (error.code === 'auth/weak-password') {
        alert('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¶Ø¹ÙŠÙØ© Ø¬Ø¯Ø§Ù‹');
      } else {
        alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ³Ø¬ÙŠÙ„: ' + error.message);
      }
    }
  });
</script>

</body>
</html>
