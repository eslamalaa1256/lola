<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ููุญุฉ ุฅุฏุงุฑุฉ ุงููุชุฌุฑ - LOLA</title>
  <meta name="description" content="ููุญุฉ ุฅุฏุงุฑุฉ ูุชุฌุฑ LOLA. ุฃุถูุ ุนุฏูุ ูุงุญุฐู ุงูููุชุฌุงุช ูุชุงุจุน ุงูุทูุจุงุช ุจุณูููุฉ ูู ุงูููุช ุงูุญูููู.">
  <link rel="icon" href="assets/images/LOLA.PNG" type="image/png">

  <!-- ุฃููููุงุช ูุฎุท -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- CSS (ุงุณุชุฎุฏู css/admin.css ุงูููุฌูุฏ ุนูุฏู) -->
  <link rel="stylesheet" href="css/admin.css">
</head>
<body>

  <!-- Loader -->
  <div id="loader" class="loader" style="display:none;"><i class="fas fa-spinner fa-spin"></i> ุฌุงุฑู ุงููุนุงูุฌุฉ...</div>

  <!-- Toast container -->
  <div id="toastContainer" class="toast-container"></div>

  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <h2><i class="fas fa-store"></i> LOLA</h2>
    </div>
    <nav class="sidebar-nav">
      <a href="#dashboard" class="nav-link active" data-section="dashboard"><i class="fas fa-tachometer-alt"></i> ููุญุฉ ุงูุชุญูู</a>
      <a href="#products" class="nav-link" data-section="products"><i class="fas fa-boxes"></i> ุงูููุชุฌุงุช</a>
      <a href="#orders" class="nav-link" data-section="orders"><i class="fas fa-receipt"></i> ุงูุทูุจุงุช</a>
      <a href="#analytics" class="nav-link" data-section="analytics"><i class="fas fa-chart-line"></i> ุงูุชุญูููุงุช</a>
      <a href="#settings" class="nav-link" data-section="settings"><i class="fas fa-cogs"></i> ุงูุฅุนุฏุงุฏุงุช</a>
    </nav>
    <div class="sidebar-footer">
      <button id="darkToggle" class="btn" onclick="toggleDarkMode()" title="ุชุจุฏูู ุงููุถุน ุงููููู"><i class="fas fa-moon"></i></button>
      <button onclick="logout()" class="btn btn-logout" title="ุชุณุฌูู ุงูุฎุฑูุฌ"><i class="fas fa-sign-out-alt"></i></button>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main-content" id="mainContent">

    <!-- Header -->
    <header class="admin-header">
      <button class="sidebar-toggle" id="sidebarToggle"><i class="fas fa-bars"></i></button>
      <h1><i class="fas fa-cogs"></i> ููุญุฉ ุฅุฏุงุฑุฉ ุงููุชุฌุฑ</h1>
    </header>

    <!-- Dashboard Section -->
    <section id="dashboard" class="section active">
      <!-- Dashboard Cards -->
      <div class="dashboard-cards">
        <div class="card">
          <i class="fas fa-box"></i>
          <h3 id="totalProducts">0</h3>
          <p>ุฅุฌูุงูู ุงูููุชุฌุงุช</p>
        </div>
        <div class="card">
          <i class="fas fa-shopping-cart"></i>
          <h3 id="newOrders">0</h3>
          <p>ุทูุจุงุช ุฌุฏูุฏุฉ</p>
        </div>
        <div class="card">
          <i class="fas fa-dollar-sign"></i>
          <h3 id="totalSales">0 ุฌ</h3>
          <p>ุฅุฌูุงูู ุงููุจูุนุงุช</p>
        </div>
      </div>

      <!-- Analytics Chart -->
      <div class="chart-section" style="margin-bottom:20px;">
        <h2><i class="fas fa-chart-line"></i> ุชุญูููุงุช ุงููุจูุนุงุช (ุขุฎุฑ 12 ุดูุฑ)</h2>
        <canvas id="salesChart" height="120"></canvas>
      </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="section">
      <!-- Add Product Form -->
      <div class="form-container">
        <h2><i class="fas fa-plus-circle"></i> ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ</h2>

        <input type="text" id="productName" placeholder="ุงุณู ุงูููุชุฌ" required />
        <input type="number" id="productPrice" placeholder="ุงูุณุนุฑ" required />
        <textarea id="productDesc" placeholder="ุงููุตู" required></textarea>
        <input type="number" id="productQuantity" placeholder="ุงููููุฉ" required />

        <label for="productImageFile" style="display:block;margin-top:8px;font-size:13px;color:#666;">ุงุฎุชุฑ ุตูุฑุฉ ูู ุฌูุงุฒู (ุฃู ุงุชุฑููุง ูุงุณุชุฎุฏู ุฑุงุจุท)</label>
        <input type="file" id="productImageFile" accept="image/*" />

        <input type="text" id="productImage" placeholder="ุฑุงุจุท ุงูุตูุฑุฉ (ุงุฎุชูุงุฑู)" />
        <input type="text" id="productSizes" placeholder="ุงูููุงุณุงุช (ูุซุงู: S,M,L) - ุงุฎุชูุงุฑู" />

        <div id="colorFields" style="margin:10px 0;">
          <div class="color-row">
            <input type="text" class="colorName" placeholder="ุงุณู ุงูููู (ุงุฎุชูุงุฑู)"/>
            <input type="color" class="colorCode" value="#000000" />
            <button type="button" class="btn btn-small" onclick="addColorField()" title="ุฅุถุงูุฉ ููู">+</button>
          </div>
        </div>

        <select id="productCategory">
          <option value="">ุงุฎุชุฑ ุงูุชุตููู</option>
          <option value="ุฃุญุฐูุฉ">ุฃุญุฐูุฉ</option>
          <option value="ููุงุจุณ">ููุงุจุณ</option>
          <option value="ุงูุณุณูุงุฑุงุช">ุงูุณุณูุงุฑุงุช</option>
        </select>

        <label for="productAvailable">ุงูุชููุฑ:</label>
        <select id="productAvailable">
          <option value="ูุชุงุญ">ูุชุงุญ</option>
          <option value="ุบูุฑ ูุชุงุญ">ุบูุฑ ูุชุงุญ</option>
        </select>

        <button id="addProductBtn" class="btn btn-edit" onclick="addProduct()"><i class="fas fa-plus"></i> ุฅุถุงูุฉ ุงูููุชุฌ</button>
      </div>

      <!-- Products Table -->
      <h2><i class="fas fa-boxes"></i> ุงูููุชุฌุงุช</h2>
      <input type="text" id="searchProducts" placeholder="๐ ุงุจุญุซ ุนู ููุชุฌ..." onkeyup="searchProducts()" />

      <div class="table-container">
        <table id="productsTable">
          <thead>
            <tr>
              <th>ุงูุตูุฑุฉ</th>
              <th>ุงูุงุณู</th>
              <th>ุงูุณุนุฑ</th>
              <th>ุงููุตู</th>
              <th>ุงููููุฉ</th>
              <th>ุงูููุงุณุงุช</th>
              <th>ุงูุฃููุงู</th>
              <th>ุงูุชุตููู</th>
              <th>ุงูุชููุฑ</th>
              <th>ุฅุฌุฑุงุกุงุช</th>
            </tr>
          </thead>
          <tbody id="productsBody"></tbody>
        </table>
      </div>
    </section>

    <!-- Orders Section -->
    <section id="orders" class="section">
      <h2><i class="fas fa-receipt"></i> ุงูุทูุจุงุช</h2>
      <div class="order-controls">
        <label for="orderFilter">ููุชุฑุฉ ุญุณุจ ุงูุญุงูุฉ:</label>
        <select id="orderFilter" onchange="filterOrders()">
          <option value="ุงููู">ุงููู</option>
          <option value="ุฌุฏูุฏ">ุฌุฏูุฏ</option>
          <option value="ููุฏ ุงูุชูููุฐ">ููุฏ ุงูุชูููุฐ</option>
          <option value="ุชู ุงูุชุณููู">ุชู ุงูุชุณููู</option>
          <option value="ููุบู">ููุบู</option>
        </select>

        <input type="text" id="searchOrders" placeholder="๐ ุงุจุญุซ ูู ุงูุทูุจุงุช..." onkeyup="searchOrders()" />
        <button class="btn" onclick="exportOrders()"><i class="fas fa-file-export"></i> ุชุตุฏูุฑ ุงูุทูุจุงุช</button>
      </div>

      <div class="table-container">
        <table id="ordersTable">
          <thead>
            <tr>
              <th>ุงุณู ุงูุนููู</th>
              <th>ุงููุงุชู</th>
              <th>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</th>
              <th>ุทุฑููุฉ ุงูุฏูุน</th>
              <th>ุงูููุชุฌุงุช</th>
              <th>ุงูููุงุณ</th>
              <th>ุงูููู</th>
              <th>ุงูุฅุฌูุงูู</th>
              <th>ุงูุชุงุฑูุฎ</th>
              <th>ุงูุญุงูุฉ</th>
              <th>ุงูุชุญูู</th>
            </tr>
          </thead>
          <tbody id="ordersBody"></tbody>
        </table>
      </div>
    </section>

    <!-- Analytics Section -->
    <section id="analytics" class="section">
      <h2><i class="fas fa-chart-line"></i> ุงูุชุญูููุงุช ุงููุชูุฏูุฉ</h2>
      <div class="chart-section">
        <canvas id="advancedSalesChart" width="600" height="600"></canvas>
      </div>
      <div class="dashboard-cards">
        <div class="card">
          <i class="fas fa-eye"></i>
          <h3 id="totalViews">0</h3>
          <p>ุฅุฌูุงูู ุงููุดุงูุฏุงุช</p>
        </div>
        <div class="card">
          <i class="fas fa-star"></i>
          <h3 id="avgRating">0</h3>
          <p>ูุชูุณุท ุงูุชูููู</p>
        </div>
        <div class="card">
          <i class="fas fa-truck"></i>
          <h3 id="deliveredOrders">0</h3>
          <p>ุงูุทูุจุงุช ุงููุณููุฉ</p>
        </div>
      </div>
    </section>

    <!-- Settings Section -->
    <section id="settings" class="section">
      <h2><i class="fas fa-cogs"></i> ุงูุฅุนุฏุงุฏุงุช</h2>
      <div class="form-container">
        <label for="storeName">ุงุณู ุงููุชุฌุฑ:</label>
        <input type="text" id="storeName" placeholder="LOLA" />

        <label for="storeEmail">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:</label>
        <input type="email" id="storeEmail" placeholder="info@lola.com" />

        <label for="storePhone">ุฑูู ุงููุงุชู:</label>
        <input type="tel" id="storePhone" placeholder="+20 123 456 789" />

        <label for="currency">ุงูุนููุฉ:</label>
        <select id="currency">
          <option value="ุฌ">ุฌููู ูุตุฑู</option>
          <option value="$">ุฏููุงุฑ ุฃูุฑููู</option>
        </select>

        <button class="btn btn-edit" onclick="saveSettings()"><i class="fas fa-save"></i> ุญูุธ ุงูุฅุนุฏุงุฏุงุช</button>
      </div>
    </section>

  </main>

  <!-- Firebase SDKs (compat) -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

  <!-- Firebase Config -->
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyCEY3tkYgxiRRpcOLdx8gRP0uwkaD1sIJQ",
      authDomain: "lola-6ab46.firebaseapp.com",
      projectId: "lola-6ab46",
      storageBucket: "lola-6ab46.appspot.com",
      messagingSenderId: "166549966504",
      appId: "1:166549966504:web:4f52282d3fa4a9f0eabc9d"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
  </script>

  <!-- Chart.js (for analytics) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js"></script>

  <!-- Admin JS (ุงูุฎุงุฑุฌู) -->
  <script src="js/admin.js"></script>
</body>
</html>
